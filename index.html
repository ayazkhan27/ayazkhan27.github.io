<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Khan Encryption Algorithm Demo</title>
    <link rel="stylesheet" href="web.css">
</head>
<body>
    <header>
        <h1>Khan Encryption Algorithm Demo</h1>
    </header>
    <main>
        <section id="encryption-demo">
            <h2>Encrypt Your Message</h2>
            <form id="encryptionForm">
                <label for="plaintext">Enter your message:</label>
                <textarea id="plaintext" name="plaintext" required></textarea><br>

                <label for="start_position">Enter the starting dial position (integer between 1 and 1050):</label>
                <input type="number" id="start_position" name="start_position" min="1" max="1050" required><br>

                <label for="superposition_sequence_length">Enter the superposition sequence length (even integer):</label>
                <input type="number" id="superposition_sequence_length" name="superposition_sequence_length" min="2" step="2" required><br>

                <button type="button" onclick="encryptMessage()">Encrypt</button>
            </form>

            <h3>Encrypted Message:</h3>
            <p id="ciphertext"></p>

            <h3>Decrypted Message:</h3>
            <p id="decryptedMessage"></p>
        </section>
    </main>
    <footer>
        <p>&copy; 2024 Ayaz Khan. All rights reserved.</p>
    </footer>

    <script>
        async function encryptMessage() {
            const plaintext = document.getElementById('plaintext').value;
            const start_position = document.getElementById('start_position').value;
            const superposition_sequence_length = document.getElementById('superposition_sequence_length').value;

            const response = await fetch('/encrypt', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    plaintext: plaintext,
                    start_position: start_position,
                    superposition_sequence_length: superposition_sequence_length
                })
            });

            const data = await response.json();

            document.getElementById('ciphertext').textContent = data.ciphertext;
            document.getElementById('decryptedMessage').textContent = data.decryptedMessage;
        }
    </script>
</body>
</html>
